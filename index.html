<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8"><title>AI Karakter Tasarımı</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; background: #f4f4f9; }
        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); display: inline-block; width: 350px; }
        input, select, button { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ddd; }
        button { background: #56d1a7; color: white; border: none; font-weight: bold; cursor: pointer; }
        #resultImg { width: 100%; display: none; margin-top: 15px; border-radius: 10px; }
        #loader { display: none; color: #666; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="card">
        <h2>KarakterX Studio</h2>
        <input type="file" id="photoInput">
        <select id="styleSelect">
            <option value="Pixar">3D Pixar</option>
            <option value="Anime">Anime</option>
            <option value="Cyberpunk">Cyberpunk</option>
        </select>
        <button onclick="generate()">Dönüştür ✨</button>
        <div id="loader">Görsel oluşturuluyor...</div>
        <img id="resultImg">
    </div>

    <script>
        async function generate() {
            const style = document.getElementById('styleSelect').value;
            const loader = document.getElementById('loader');
            const img = document.getElementById('resultImg');

            loader.style.display = 'block';
            img.style.display = 'none';

            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ style: style })
                });
                const data = await response.json();
                
                if (data.imageUrl) {
                    img.src = data.imageUrl;
                    img.style.display = 'block';
                }
            } catch (e) { alert("Hata oluştu!"); }
            finally { loader.style.display = 'none'; }
        }
    </script>
</body>
</html>
